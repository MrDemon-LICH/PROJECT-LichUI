name: Updater Helper

on:
  workflow_dispatch:

jobs:
  Updating:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Set date variable
        id: date
        run: echo "DATE=$(date +'%Y/%m/%d')" >> $GITHUB_ENV

      - name: Configure Git
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"

      - name: Public Update
        id: release
        uses: softprops/action-gh-release@v2
        with:
          name: Update ${{ env.DATE }}
          tag_name: LICH_UPDATE-${{ env.DATE }}
          body: |
            ### Update Info
            **ROM DATE:** ${{ env.DATE }}
            **OneUI Version:** 7.0
            #### ROM
            - [LichUI](https://sourceforge.net/projects/lichrom/files/SM-A546X/)   
            #### Thanks for using LichUI

        env:
          GITHUB_TOKEN: ${{ secrets.TOKEN }}
